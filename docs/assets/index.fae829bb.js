import{i as k,j as _,d as y,o as a,c as r,e as s,F as v,k as m,f as i,l as c,p as N,m as T,_ as w,n as P,t as p,q as $,v as D,s as C,b as g,g as V,T as q,x as A,y as R,z as M,A as W}from"./app.3a7252fd.js";class B{constructor(e,t){this.value=e,this.color=t,this.display=!1}get theinfo(){return console.log(`Card is color is ${this.calcolor()} and ${this.calvalue()}`),this.color}calcolor(){switch(this.color){case 0:return"pic";case 1:return"treffle";case 2:return"heart";case 3:return"carro"}}calcViewColor(){switch(this.color){case 0:return"black";case 1:return"black";case 2:return"red";case 3:return"red";default:return"orange"}}calvalue(){switch(this.value){case 11:return"J";case 12:return"Q";case 0:return"K";default:return JSON.stringify(this.value)}}classInside(){switch(this.value){case 11:return"head";case 1:return"one";case 2:return"two";case 3:return"three";case 4:return"four";case 5:return"five";case 6:return"six";case 7:return"seven";case 8:return"eight";case 9:return"nine";case 10:return"ten";default:return"bug"}}isHead(){switch(this.value){case 11:return!0;case 12:return!0;case 0:return!0;default:return!1}}equals(e){return!(this.value!==e.value||this.color!==e.color)}}k("card",()=>({card:_(new B(0,3))}));class x{constructor(){this.initNewDeck()}get info(){for(const e of this.pile)e.theinfo}get nbOfCards(){return this.pile.length}initNewDeck(){this.pile=[];for(let e=0;e<52;e++)this.addtopile(new B(Math.floor(e/4),e%4))}addtopile(e){this.pile.push(e)}removeCardsFromDeck(e){e.forEach((t,d,l)=>{this.removeCardfromDeck(t)})}removeCardfromDeck(e){this.pile.forEach((t,d,l)=>{t.equals(e)===!0&&l.splice(d,1)})}drawCard(){const e=Math.floor(Math.random()*this.pile.length),t=this.pile[e];return this.pile=this.pile.filter((d,l,h)=>e!==l),t.theinfo,t}}k("deck",()=>({deck:_(new x)}));class G{constructor(){this._selectedOption={},this._options=[],this._options=[{text:"Only win when all cards guested",value:0},{text:"Also win when the deck is passed",value:1}],this._selectedOption=this._options[0]}get selectedOption(){return this._selectedOption}set selectedOption(e){this._selectedOption=e}get options(){return this._options}set options(e){this._options=e}}const O=k("behaving",()=>({behaving:new G}));class J{constructor(e){this.playerCanAct=!0,this.playingCardIndex=0,this.table=[],this.peages=[],this.deck=e,this.nbCardOnBorad=5,this.colorTest="red",this.cardsWidth=.8,this.widthBetweenCard=.02,this.widths=[],this.numberofDeckplayed=0;for(let t=0;t<this.nbCardOnBorad;++t)this.table.push(this.deck.drawCard());for(let t=0;t<this.nbCardOnBorad-1;++t)this.peages.push(!1);this.peages[1]=!0,this.createtabwith()}diplayTable(){return JSON.stringify(this.table)}update(){this.createtabwith()}get selectedOption(){return this.nbCardOnBorad}set selectedOption(e){this.nbCardOnBorad=e,this.startNewGame(),this.createtabwith()}displayTools(){const e=[];for(let t=0;t<this.nbCardOnBorad;++t)e.push(this.table[t]),this.peages[t]!==void 0&&e.push(this.peages[t]);return e}pastable(){return this.table}playerDeckNbCard(){return Object.keys(this.deck.pile).length}startNewGame(){this.playerCanAct=!0,this.playingCardIndex=0,this.table=[],this.peages=[],this.deck=new x;for(let e=0;e<this.nbCardOnBorad;++e)this.table.push(this.deck.drawCard());for(let e=0;e<this.nbCardOnBorad-1;++e)this.peages.push(!1)}checkForWin(){this.playingCardIndex===this.nbCardOnBorad&&alert("C'est la win")}checkForEasyWin(){this.deck.nbOfCards===0&&alert("There is no more card in the deck you won")}setCardNumber(e){this.nbCardOnBorad=e}bet(e){this.playerCanAct===!0&&(this.playerCanAct=!1,this.table[this.playingCardIndex].calcViewColor()===e?(this.table[this.playingCardIndex].display=!0,this.playingCardIndex++,setTimeout(()=>{this.playerCanAct=!0},200)):(this.table[this.playingCardIndex].display=!0,setTimeout(()=>{this.playerCanAct=!0},200),setTimeout(()=>{for(;this.playingCardIndex>=0;)O().behaving.selectedOption.value===1&&(this.deck.nbOfCards>0?(this.table[this.playingCardIndex]=this.deck.drawCard(),this.playingCardIndex--):this.deck.nbOfCards===0&&(this.playingCardIndex=-1,this.checkForEasyWin())),O().behaving.selectedOption.value===0&&(this.deck.nbOfCards>0?(this.table[this.playingCardIndex]=this.deck.drawCard(),this.playingCardIndex--):this.deck.nbOfCards===0&&(this.deck.initNewDeck(),this.deck.removeCardsFromDeck(this.table),++this.numberofDeckplayed,this.playingCardIndex=-1,alert("You played a deck")));this.playingCardIndex=0},200)),this.checkForWin())}get nbOfPeages(){let e=0;return this.peages.forEach(t=>t&&e++),e}test(){this.deck.test()}playerCanChose(){return this.playerCanAct?"clikable":"noclikable"}createtabwith(){const e=[];for(let t=0;t<this.displayTools().length;++t)typeof this.displayTools()[t]!="boolean"?e.push(this.cardWidth):(this.displayTools()[t]===!0&&e.push(this.widthPeages()/this.nbOfPeages),this.displayTools()[t]===!1&&e.push(this.widthBetweenCard));this.widths=e}setTollRaw(e,t){e>1?this.peages[(e-1)/2]=t:this.peages[e-1]=t,console.log(this.peages),this.createtabwith()}swidths(){return this.widths}stringsWidth(){const e=[];return this.swidths().forEach(t=>{e.push(`${JSON.stringify(100*t)}%`)}),e}get cardWidth(){return this.nbOfPeages>0?this.cardsWidth/this.nbCardOnBorad:1/this.nbCardOnBorad}get widthBetweenCards(){return(this.nbCardOnBorad-1-this.nbOfPeages)*this.widthBetweenCard}widthPeages(){return 1-this.cardsWidth-this.widthBetweenCards}classNbCarte(){switch(this.nbCardOnBorad){case 0:return"zero";case 1:return"one";case 2:return"two";case 3:return"three";case 4:return"four";case 5:return"five";case 6:return"six";case 7:return"seven";case 8:return"eight";case 9:return"nine";case 10:return"ten";default:return"MoreNegBug"}}}const I=k("board",()=>({board:new J(new x)})),j=n=>(N("data-v-3e646047"),n=n(),T(),n),z={class:"wrapper"},H={class:"header"},U=j(()=>s("h1",null,"Position your tolls",-1)),K={class:"wrapperBoard"},L=["onClick"],Q=["onClick"],Y=y({__name:"PeagesSelector",emits:["close"],setup(n){const e=I();return(t,d)=>(a(),r("div",z,[s("div",H,[U,s("div",{class:"i-ic:baseline-close cl",onClick:d[0]||(d[0]=l=>t.$emit("close"))})]),s("div",K,[(a(!0),r(v,null,m(i(e).board.displayTools(),(l,h)=>(a(),r("div",{key:h,class:"elements"},[h%2!==0&&l===!0?(a(),r("div",{key:0,class:"i-fluent:subtract-circle-24-filled on",onClick:o=>i(e).board.setTollRaw(h,!1)},null,8,L)):c("",!0),h%2!==0&&l===!1?(a(),r("div",{key:1,class:"i-fluent:add-circle-24-filled off",onClick:o=>i(e).board.setTollRaw(h,!0)},null,8,Q)):c("",!0)]))),128))])]))}});const Z=w(Y,[["__scopeId","data-v-3e646047"]]),X={class:"wrapper"},ee=["value"],te=y({__name:"SelectNumber",props:{label:{type:String,required:!0},store:{required:!0}},setup(n){const e=n,t=10,d=e.label,l=_(e.store.selectedOption),h=_(e.store);return(o,u)=>(a(),r("label",X,[P(p(i(d))+" ",1),$(s("select",{"onUpdate:modelValue":u[0]||(u[0]=b=>l.value=b),onChange:u[1]||(u[1]=b=>h.value.selectedOption=l.value)},[(a(),r(v,null,m(t,b=>s("option",{value:b},p(b),9,ee)),64))],544),[[D,l.value]])]))}}),se={class:"wrapper"},ae=["value"],re=y({__name:"Select",props:{label:{type:String,required:!0},store:{required:!0}},setup(n){const e=n,t=e.label,d=_(e.store.selectedOption),l=_(e.store);return(h,o)=>(a(),r("label",se,[P(p(i(t))+" ",1),$(s("select",{"onUpdate:modelValue":o[0]||(o[0]=u=>d.value=u),onChange:o[1]||(o[1]=u=>l.value.selectedOption=d.value)},[(a(!0),r(v,null,m(l.value.options,u=>(a(),r("option",{value:u},p(u.text),9,ae))),256))],544),[[D,d.value]])]))}});const ie=w(re,[["__scopeId","data-v-ddbff596"]]);class oe{constructor(){this._selectedOption={},this._options=[],this._options=[{text:"Random",value:0},{text:"Black first",value:1},{text:"Red first",value:2}],this._selectedOption=this._options[0],this._randomValue=Math.random()}get selectedOption(){return this._selectedOption}set selectedOption(e){e.value===0&&(this._randomValue=Math.random()),this._selectedOption=e}get options(){return this._options}set options(e){this._options=e}redIsFirst(){if(this._selectedOption.value===2)return!0;if(this._selectedOption.value===1)return!1;if(this._selectedOption.value===0)return this._randomValue>.5}}const ne=k("position",()=>({position:new oe})),de={class:"underCards"},le={class:"info"},ce={key:0},ue=y({__name:"BoardInfos",setup(n){const e=_(!1),t=_(I()),d=_(ne()),l=_(O());return(h,o)=>{const u=ie,b=te,E=Z;return a(),r("div",de,[s("div",le,[s("p",null,"Il reste "+p(t.value.board.playerDeckNbCard())+" carte dans le deck",1),s("button",{class:"btn",onClick:o[0]||(o[0]=f=>t.value.board.startNewGame())}," Start a new game ")]),d.value.position.redIsFirst()?(a(),r("div",{key:0,class:C(["selectors",[t.value.board.playerCanChose()]])},[s("button",{class:"btn red",onClick:o[1]||(o[1]=f=>t.value.board.bet("red"))}," Red "),s("button",{class:"btn black",onClick:o[2]||(o[2]=f=>t.value.board.bet("black"))}," Black ")],2)):(a(),r("div",{key:1,class:C(["selectors",[t.value.board.playerCanChose()]])},[s("button",{class:"btn black",onClick:o[3]||(o[3]=f=>t.value.board.bet("black"))}," Black "),s("button",{class:"btn red",onClick:o[4]||(o[4]=f=>t.value.board.bet("red"))}," Red ")],2)),s("div",null,[s("button",{class:"btn peages",onClick:o[5]||(o[5]=f=>e.value=!e.value)}," Set peages "),g(u,{label:"testdsflabel",store:d.value.position},null,8,["store"]),g(u,{label:"Game Behaving",store:l.value.behaving},null,8,["store"]),g(b,{label:"Numberof card",store:t.value.board},null,8,["store"]),(a(),V(q,{to:"body"},[e.value?(a(),r("div",ce,[g(E,{onClose:o[6]||(o[6]=f=>e.value=!1)})])):c("",!0)]))]),s("button",{onClick:o[7]||(o[7]=f=>t.value.board.test())}," Testme ")])}}});const he=w(ue,[["__scopeId","data-v-bb691c5c"]]),_e={class:"card"},pe={key:0,class:"hiddenCard"},be={key:1,class:"cardContent"},fe={class:"cardStandardBefore"},ve={key:0},ge=s("div",{class:"i-bi:suit-diamond-fill"},null,-1),ye=[ge],Ce={key:1},ke=s("div",{class:"i-bi:suit-spade-fill"},null,-1),me=[ke],we={key:2},Oe=s("div",{class:"i-bi:heart-fill"},null,-1),$e=[Oe],Be={key:3},xe=s("div",{class:"i-bi:suit-club-fill"},null,-1),Ie=[xe],Se={class:"node"},We={key:0},Ne=s("div",{class:"i-bi:suit-diamond-fill"},null,-1),Te=[Ne],Pe={key:1},De=s("div",{class:"i-bi:suit-spade-fill"},null,-1),Ve=[De],Ae={key:2},Fe=s("div",{class:"i-bi:heart-fill"},null,-1),Ee=[Fe],qe={key:3},Re=s("div",{class:"i-bi:suit-club-fill"},null,-1),Me=[Re],Ge={class:"cardStandardAfter"},Je={key:0},je=s("div",{class:"i-bi:suit-diamond-fill"},null,-1),ze=[je],He={key:1},Ue=s("div",{class:"i-bi:suit-spade-fill"},null,-1),Ke=[Ue],Le={key:2},Qe=s("div",{class:"i-bi:heart-fill"},null,-1),Ye=[Qe],Ze={key:3},Xe=s("div",{class:"i-bi:suit-club-fill"},null,-1),et=[Xe],tt=y({__name:"CardProps",props:{card:{type:B,required:!0}},setup(n){const e=n;A(d=>({"28594aa6":i(t)}));const t=R(()=>e.card.calcViewColor());return(d,l)=>(a(),r(v,null,[$(s("span",null,p(i(t)),513),[[M,!1]]),s("div",_e,[e.card.display===!1?(a(),r("div",pe)):(a(),r("div",be,[s("div",fe,[s("p",null,p(e.card.calvalue()),1),e.card.calcolor()==="carro"?(a(),r("div",ve,ye)):c("",!0),e.card.calcolor()==="pic"?(a(),r("div",Ce,me)):c("",!0),e.card.calcolor()==="heart"?(a(),r("div",we,$e)):c("",!0),e.card.calcolor()==="treffle"?(a(),r("div",Be,Ie)):c("",!0)]),e.card.isHead()?c("",!0):(a(),r("div",{key:0,class:C(["cardInside",[e.card.classInside()]])},[(a(!0),r(v,null,m(parseInt(e.card.calvalue()),h=>(a(),r("div",Se,[e.card.calcolor()==="carro"?(a(),r("div",We,Te)):c("",!0),e.card.calcolor()==="pic"?(a(),r("div",Pe,Ve)):c("",!0),e.card.calcolor()==="heart"?(a(),r("div",Ae,Ee)):c("",!0),e.card.calcolor()==="treffle"?(a(),r("div",qe,Me)):c("",!0)]))),256))],2)),e.card.isHead()?(a(),r("div",{key:1,class:C(["cardInside",[e.card.classInside()]])},null,2)):c("",!0),s("div",Ge,[s("p",null,p(e.card.calvalue()),1),e.card.calcolor()==="carro"?(a(),r("div",Je,ze)):c("",!0),e.card.calcolor()==="pic"?(a(),r("div",He,Ke)):c("",!0),e.card.calcolor()==="heart"?(a(),r("div",Le,Ye)):c("",!0),e.card.calcolor()==="treffle"?(a(),r("div",Ze,et)):c("",!0)])]))])],64))}});const S=n=>(N("data-v-9eb6eaec"),n=n(),T(),n),st=S(()=>s("div",{class:"i-mdi:phone-rotate-landscape mobileRotate"},null,-1)),at=S(()=>s("span",{class:"boradStyle"},null,-1)),rt={class:"cardsZone"},it={key:0},ot={key:1,class:"ptolls"},nt={key:0,class:"toll"},dt=S(()=>s("div",{class:"i-maki:toll"},null,-1)),lt=[dt],ct={class:"test"},ut=y({__name:"Board",setup(n){A(t=>({"2ddf1077":i(e).board.stringsWidth()[0],"2ddf1096":i(e).board.stringsWidth()[1],"2ddf10b5":i(e).board.stringsWidth()[2],"2ddf10d4":i(e).board.stringsWidth()[3],"2ddf10f3":i(e).board.stringsWidth()[4],"2ddf1112":i(e).board.stringsWidth()[5],"2ddf1131":i(e).board.stringsWidth()[6],"2ddf1150":i(e).board.stringsWidth()[7],"2ddf116f":i(e).board.stringsWidth()[8],"2ddf118e":i(e).board.stringsWidth()[9],e3fa05d8:i(e).board.stringsWidth()[10],e3fa059a:i(e).board.stringsWidth()[11],e3fa055c:i(e).board.stringsWidth()[12],e3fa051e:i(e).board.stringsWidth()[13],e3fa04e0:i(e).board.stringsWidth()[14],e3fa04a2:i(e).board.stringsWidth()[15],e3fa0464:i(e).board.stringsWidth()[16],e3fa0426:i(e).board.stringsWidth()[17],e3fa03e8:i(e).board.stringsWidth()[18],"674baa8e":i(e).board.nbCardOnBorad}));const e=I();return(t,d)=>{const l=tt,h=he;return a(),r(v,null,[st,at,s("div",rt,[(a(!0),r(v,null,m(i(e).board.displayTools(),(o,u)=>(a(),r("div",{key:u,class:C(["cardElem",[i(e).board.classNbCarte()]])},[typeof o=="object"?(a(),r("div",it,[g(l,{card:o},null,8,["card"])])):c("",!0),typeof o=="boolean"?(a(),r("div",ot,[o===!0?(a(),r("div",nt,lt)):c("",!0)])):c("",!0)],2))),128))]),s("p",null,"infopeages"+p(i(e).board.displayTools()),1),s("p",ct," infonbtotpeages"+p(i(e).board.nbOfPeages),1),s("button",{onClick:d[0]||(d[0]=o=>i(e).board.update())}," update "),g(h)],64)}}});const ht=w(ut,[["__scopeId","data-v-9eb6eaec"]]),F={};function _t(n,e){const t=ht;return a(),V(t)}typeof W=="function"&&W(F);const bt=w(F,[["render",_t]]);export{bt as default};
